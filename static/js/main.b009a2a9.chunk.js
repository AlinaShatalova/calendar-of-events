(this["webpackJsonpcalendar-of-events"]=this["webpackJsonpcalendar-of-events"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(6),s=n.n(a),r=(n(12),n(7)),l=n(2),o=(n(13),n(14),n(0)),u=function(e){var t=e.cities,n=e.months,c=e.onCityChange,i=e.onMonthChange,a=e.onFavChange,s=e.isActive,r=e.city,l=e.month;return Object(o.jsxs)("div",{className:"filters",children:[Object(o.jsxs)("label",{children:["City:",Object(o.jsx)("select",{className:"filters__select",value:r,onChange:c,children:t.map((function(e){return Object(o.jsx)("option",{value:e,children:e},e)}))})]}),Object(o.jsxs)("label",{children:["Months:",Object(o.jsx)("select",{className:"filters__select",value:l,onChange:i,children:n.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(o.jsx)("button",{className:"filters__button "+(s?"pressed":"unpressed"),onClick:a,children:"Favorites"})]})},d=(n(16),i.a.createContext()),j=function(e){var t=Object(c.useContext)(d).addFavorite,n=e.event,i=e.isFav;return Object(o.jsxs)("div",{className:"event-card",style:{backgroundImage:"url(".concat(n.image,")")},children:[Object(o.jsx)("div",{className:"event-card__date-border",children:Object(o.jsx)("div",{className:"event-card__date",children:n.date.split(".",1)})}),Object(o.jsx)("div",{className:"event-card__favorite "+(i?"active":""),onClick:function(){t(n)}}),Object(o.jsx)("div",{className:"event-card__name",children:n.name})]})},v=(n(17),function(e){var t=e.events,n=e.isFavActive,c=e.favorites,i=e.city,a=e.month,s="All cities"===i&&"13"===a?t:"All cities"===i&&"13"!==a?t.filter((function(e){return Number(e.date.split(".")[1])===Number(a)})):"All cities"!==i&&"13"===a?t.filter((function(e){return e.city===i})):t.filter((function(e){return e.city===i&&Number(e.date.split(".")[1])===Number(a)}));return Object(o.jsx)("div",{className:"event-list",children:function(){if(!n&&s.length>0)return Object(o.jsx)(o.Fragment,{children:s.map((function(e){return Object(o.jsx)(j,{event:e,isFav:!!c.includes(Number(e.id))},e.id)}))});if(n&&c.length>0){var e=s.filter((function(e){return!!c.includes(Number(e.id))}));return Object(o.jsxs)(o.Fragment,{children:[e.length>0?"":Object(o.jsx)("p",{className:"no-events",children:"Events not found"}),e.map((function(e){return Object(o.jsx)(j,{event:e,isFav:!!c.includes(Number(e.id))},e.id)}))]})}return Object(o.jsx)("p",{className:"no-events",children:"Events not found"})}()})});var b=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),j=s[0],b=s[1],m=Object(c.useState)([]),h=Object(l.a)(m,2),f=h[0],O=h[1],g=Object(c.useState)(""),x=Object(l.a)(g,2),p=x[0],N=x[1],F=Object(c.useState)(String(13)),y=Object(l.a)(F,2),C=y[0],S=y[1],_=Object(c.useState)(!1),A=Object(l.a)(_,2),J=A[0],E=A[1],I=Object(c.useState)([]),M=Object(l.a)(I,2),k=M[0],w=M[1];Object(c.useEffect)((function(){D()}),[]);var D=function(){fetch("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json").then((function(e){return e.json()})).then((function(e){b(e);var t=[];e.forEach((function(e){t.includes(e.city)||t.push(e.city)})),t.push("All cities"),O(t),N(t[t.length-1]);var n=null===localStorage.getItem("savedFavorites")?[]:JSON.parse(localStorage.getItem("savedFavorites"));w(n)})).then((function(){return i(!1)}))};return Object(o.jsx)(d.Provider,{value:{addFavorite:function(e){var t,n=Number(e.id);t=k.includes(n)?k.filter((function(e){return e!==n})):[].concat(Object(r.a)(k),[n]),w(t),localStorage.setItem("savedFavorites",JSON.stringify(t))}},children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("h1",{children:"Event listing"}),Object(o.jsx)(u,{cities:f,months:[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"},{id:13,name:"All months"}],onCityChange:function(e){N(e.target.value)},onMonthChange:function(e){S(e.target.value)},onFavChange:function(e){e.preventDefault(),E(!J),N(f[f.length-1]),S(String(13))},isActive:J,city:p,month:C}),n?Object(o.jsx)("p",{className:"loading",children:"Loading..."}):Object(o.jsx)(v,{events:j,isFavActive:J,favorites:k,city:p,month:C})]})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(b,{})}),document.getElementById("root")),m()}],[[18,1,2]]]);
//# sourceMappingURL=main.b009a2a9.chunk.js.map